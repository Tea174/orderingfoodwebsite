### Variables
@baseUrl = http://localhost:8080/api/baskets
@customerToken = eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJQV2NhT2tKdDR3WTBCX3l0eXpodnlzRF9xdmo1LTNKUDh3OEk3S1dfV040In0.eyJleHAiOjE3NjA0NzU0MDEsImlhdCI6MTc2MDQ3NTEwMSwianRpIjoib25ydHJvOjE3MGJmZGI3LTQxYTUtN2VjZC1mNzI5LTZjZTIxMTFhZTcyYiIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODE4MC9yZWFsbXMva2VlcGRpc2hnb2luZyIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJhN2EwNWRlZS05ZTRhLTQ1MGQtYmYxNy03NmYzOWY1ZjNmNzAiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJrZWVwZGlzaGdvaW5nLWNsaWVudCIsInNpZCI6IjYwMzlmNDA0LTU2OGEtNGQ3MC05ODkyLWM5OTY5NmUzZTM2YSIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiLyoiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRlZmF1bHQtcm9sZXMta2VlcGRpc2hnb2luZyIsIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJjdXN0b21lciJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJvaXlAZXhhbXBsZS5jb20iLCJlbWFpbCI6Im9peUBleGFtcGxlLmNvbSJ9.JzU0BFAhnSkum23bGs2wX6s0bx-o-6NtrgUcwxg5GxHrLgsd6VhmURyp6hjz3jpJvVZD9KyI-S2FB9k9S0-pcQ2uGdho-lqY70AKr2RFqgq1HpIfwvcid202c3WP_yyfWYd4t2MMVBHHhQuqZBUNacuSKHabO4ODvp8En2Wbpkl5ckoStSr-rsw55qbYixSt6wemuXBEKMklhPIsWeFu6gePHTVQQKnpnF8ecOpKi0rr5oDh8WYa81H9uwlHOVbWhfLUfCctL9QbISF5c8C1FuQXgw3-SE0f7VmeyIBERMfz8LU7lPxpZjJ2C3IzVyMKvLlhmBDFtMFsw-P0jQ6kfg
@customerId = 32adadfe-60a2-4f4f-8811-09c4d7d84ada
@restaurantId = 91ddc323-3f3f-4554-bde5-fb7558c9eb77
@dishId = 9966315a-9092-4b30-8763-ca60ab36aab7
@dishId2 = bf0ac3f2-25aa-4a31-8669-afb3a9410a93
@guestBasketId = 4cebb35b-d2cf-4b38-9e65-7f8364df9121

### ========== GUEST BASKET FLOW ==========

### 1. Create guest basket
POST {{baseUrl}}/guest

### 2. Add item to guest basket (use basketId from step 1)
POST {{baseUrl}}/guest/{{guestBasketId}}/items
Content-Type: application/json

{
  "restaurantId": "{{restaurantId}}",
  "dishId": "{{dishId}}",
  "quantity": 2
}

### 3. Add another item to guest basket
POST {{baseUrl}}/guest/{{guestBasketId}}/items
Content-Type: application/json

{
  "restaurantId": "{{restaurantId}}",
  "dishId": "{{dishId2}}",
  "quantity": 1
}

### 4. Checkout as guest
POST {{baseUrl}}/checkout/guest/{{guestBasketId}}
Content-Type: application/json

{
  "name": "John Guest",
  "email": "guest@example.com",
  "deliveryAddress": "123 Guest Street, City, Country"
}

### ========== CUSTOMER BASKET FLOW ==========

### 5. Add item to customer basket
POST {{baseUrl}}/{{customerId}}/items
Authorization: Bearer {{customerToken}}
Content-Type: application/json

{
  "restaurantId": "{{restaurantId}}",
  "dishId": "{{dishId}}",
  "quantity": 3
}

### 6. Validate customer basket
GET {{baseUrl}}/{{customerId}}/validate
Authorization: Bearer {{customerToken}}

### 7. Checkout as customer
POST {{baseUrl}}/checkout/{{customerId}}
Authorization: Bearer {{customerToken}}